# SQLite vs MySQL 对比说明

## 📊 核心区别对比表

| 特性 | SQLite | MySQL |
|------|--------|-------|
| **类型** | 文件型数据库 | 服务器型数据库 |
| **存储方式** | 单个文件（.db或.sqlite3） | 需要数据库服务器 |
| **安装** | 无需安装，Python内置 | 需要单独安装MySQL服务器 |
| **配置** | 零配置，开箱即用 | 需要配置服务器、用户、权限等 |
| **并发** | 适合单用户或低并发 | 支持高并发，多用户同时访问 |
| **数据量** | 适合中小型应用（<100GB） | 适合大型应用（TB级别） |
| **性能** | 读写速度快（本地文件） | 网络访问，性能取决于网络和服务器 |
| **功能** | 功能相对简单 | 功能丰富（存储过程、触发器、视图等） |
| **适用场景** | 开发、测试、小型应用 | 生产环境、大型应用 |

---

## 🔍 详细对比

### 1. 架构差异

#### SQLite
- **文件型数据库**：所有数据存储在一个文件中
- **嵌入式**：数据库引擎直接嵌入到应用程序中
- **无需服务器**：不需要单独的数据库服务器进程
- **示例**：`db.sqlite3` 文件

#### MySQL
- **客户端-服务器架构**：需要独立的数据库服务器
- **网络访问**：应用程序通过网络连接访问数据库
- **多进程**：MySQL服务器作为独立进程运行
- **示例**：需要启动MySQL服务，通过IP:端口连接

---

### 2. 使用场景

#### SQLite 适合：
✅ **开发阶段**：快速搭建，无需配置  
✅ **小型项目**：个人博客、小型网站  
✅ **移动应用**：Android/iOS应用  
✅ **测试环境**：单元测试、集成测试  
✅ **原型开发**：快速验证想法  
✅ **单用户应用**：桌面应用、工具软件  

#### MySQL 适合：
✅ **生产环境**：正式上线的应用  
✅ **多用户系统**：需要多用户同时访问  
✅ **大型应用**：数据量大、访问频繁  
✅ **Web应用**：网站、Web服务  
✅ **企业应用**：需要高可用性、备份恢复  
✅ **云服务器部署**：需要远程访问  

---

### 3. 性能对比

#### SQLite
- **优点**：
  - 本地文件读写，速度快
  - 无网络延迟
  - 适合读多写少的场景
  
- **缺点**：
  - 并发写入性能差
  - 多用户同时写入会锁表
  - 不适合高并发场景

#### MySQL
- **优点**：
  - 支持高并发读写
  - 多用户同时访问无压力
  - 支持连接池、查询缓存等优化
  
- **缺点**：
  - 网络访问有延迟
  - 需要更多系统资源
  - 配置和维护复杂

---

### 4. 功能对比

#### SQLite
- ✅ 基本的SQL功能
- ✅ 事务支持
- ✅ 索引、外键
- ❌ 无用户权限管理
- ❌ 无存储过程
- ❌ 无触发器（部分支持）
- ❌ 无视图（部分支持）

#### MySQL
- ✅ 完整的SQL功能
- ✅ 用户权限管理
- ✅ 存储过程、触发器、视图
- ✅ 主从复制
- ✅ 分区表
- ✅ 全文搜索
- ✅ 多种存储引擎（InnoDB、MyISAM等）

---

### 5. 部署和维护

#### SQLite
```python
# 配置简单
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}
```

**优点**：
- 零配置
- 备份简单（复制文件即可）
- 无需维护服务器

**缺点**：
- 文件损坏风险
- 无自动备份
- 无远程访问

#### MySQL
```python
# 配置相对复杂
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'reimbursement_db',
        'USER': 'root',
        'PASSWORD': 'password',
        'HOST': 'localhost',
        'PORT': '3306',
    }
}
```

**优点**：
- 数据安全（服务器级保护）
- 支持远程访问
- 支持主从复制、备份恢复
- 有完善的监控工具

**缺点**：
- 需要安装和配置
- 需要维护服务器
- 备份恢复相对复杂

---

### 6. 成本对比

#### SQLite
- **免费**：完全免费
- **无服务器成本**：不需要额外的服务器资源
- **维护成本低**：几乎不需要维护

#### MySQL
- **免费**：MySQL Community版本免费
- **服务器成本**：需要服务器资源运行MySQL
- **维护成本**：需要DBA或运维人员维护

---

## 🎯 针对您的项目

### 开发阶段（第1-3.5周）
**推荐：SQLite**
- ✅ 快速开发，无需配置数据库
- ✅ 本地测试方便
- ✅ 文件备份简单
- ✅ 适合个人开发

### 生产环境（第4-5周）
**推荐：MySQL**
- ✅ 支持多用户同时访问
- ✅ 数据安全可靠
- ✅ 支持远程访问
- ✅ 适合云服务器部署
- ✅ 符合需求文档要求（使用MySQL）

---

## 🔄 从SQLite迁移到MySQL

### 迁移步骤

1. **导出SQLite数据**
   ```bash
   python manage.py dumpdata > backup.json
   ```

2. **修改settings.py**
   ```python
   # 从SQLite改为MySQL
   DATABASES = {
       'default': {
           'ENGINE': 'django.db.backends.mysql',
           # ... MySQL配置
       }
   }
   ```

3. **创建MySQL数据库**
   ```sql
   CREATE DATABASE reimbursement_db;
   ```

4. **运行迁移**
   ```bash
   python manage.py migrate
   ```

5. **导入数据（可选）**
   ```bash
   python manage.py loaddata backup.json
   ```

---

## 💡 总结建议

### 开发时用SQLite
- 快速迭代
- 无需配置
- 本地测试方便

### 部署时用MySQL
- 生产环境要求
- 多用户支持
- 数据安全可靠

### 最佳实践
1. **开发阶段**：使用SQLite，快速开发
2. **测试阶段**：可以继续使用SQLite或切换到MySQL测试
3. **生产部署**：必须使用MySQL（符合需求）

---

## 📚 参考资料

- SQLite官网：https://www.sqlite.org/
- MySQL官网：https://www.mysql.com/
- Django数据库配置：https://docs.djangoproject.com/en/stable/ref/settings/#databases


